generator client {
  provider = "prisma-client-js"
}
generator frontend_client {
  provider = "prisma-client-js"
  output = "../../we-hate-the-ui/lib/prisma/client"
}

// TODO Switch to postgres before launch
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Coin {
  packageId     String   @id
  module        String
  storeId       String
  creator       String
  decimals      Int
  name          String
  symbol        String
  description   String @default("")
  iconUrl       String  @default("")
  coinType      String
  website       String   @default("")
  twitterUrl    String   @default("")
  discordUrl    String   @default("")
  telegramUrl   String   @default("")
  whitepaperUrl String   @default("")
  trades        Trade[]
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model Trade {
  id             Int      @id @default(autoincrement())
  suiAmount      BigInt
  coinAmount     BigInt
  isBuy          Boolean
  account        String
  coinId         String
  coin           Coin     @relation(fields: [coinId], references: [packageId])
  transactionId  String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}
